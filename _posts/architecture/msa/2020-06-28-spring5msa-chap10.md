---
title: "Spring5msa - chap10 메소스와 마라톤"
date: 2020-06-28 00:00:00 +0800
header:
  teaser: /assets/images/01_teaser/architecture.jpg
  image: /assets/images/01_teaser/architecture.jpg
  caption: "Photo by Jacob Mejicanos on Unsplash"
categories: msa
---

### 1. 다룰 내용

- 컨테이너화된 스프링 부트 마이크로서비스의 확장 방법
- 추상화 계층과 클러스터 컨테이너 오케스트레이션 소프트웨어의 필요성
- 마이크로서비스 관점에서의 메소스와 마라톤 이해
- 컨테이너화된 PSS 마이크로서비스를 메소스와 마라톤으로 관리

### 2. 마이크로서비스 확장

#### 2.1 두 가지 옵션

- 스프링 클라우드 컴포넌트
- 메소스와 마라톤 

#### 2.2 스프링 클라우드 컴포넌트

- 자가 등록(self-registration) 과 자가 탐색(self-discovery)

#### 2.3 메소스와 마라톤

- 컨테이너화 된 마이크로서비스 확장 방식

### 3. 자동 확장 이해

- 서비스 수준 합의서(SLA) 충족을 위해 인스턴스 숫자를 자동으로 증가
시키는 방법

#### 3.1 자동 확장 조건

- 자원 제약 조건 기반 확장
- 특정 기간 기반 확장
- 메시지 큐 길이 기반 확장
- 비즈니스 파라미터 기반 확장
- 예측 기반 확장

### 4. 대규모 컨테이너 배포 환경에 대한 고려사항

#### 4.1 고려사항 

- 수천 대의 컨테이너 관리 방법
- 수천 대의 컨테이너 모니터링 방법
- 컨테이너 배포 규칙과 제약 사항 적용
- 개별 컨테이너의 자원 사용에 대한 효율성 보장 방법
- 운영상태에서 최소한의 인스턴스 개수 실행 보장 방법
- 의존 관계에 있는 서비스에 대한 정상 상태 보장 방법
- 점진적 업그레이드와 매끄러운 이전 실행 방법
- 잘못된 배포에 대한 rollback 방법

#### 4.2 솔루션

- 컨테이너 추상화 계층 
- 컨테이너 오케스트레이션 및 초기화 시스템

### 5. 컨테이너 오케스트레이션

#### 5.1 컨테이너 오케스트레이션의 중요성

- 컨테이너를 자동으로 할당
- 어떤 장비를 사용하는지 알 필요가 없는 추상화 계층 제공
- 배포 산출물에 대한 규칙,제약 사항 적용 가능
- 높은 수준의 애자일 제공 능력
- 구축, 배포, 운영에 필요한 비용을 최소한의 수준으로 관리

#### 5.2 컨테이너 오케스트레이션 도구가 하는 일

- 컨테이너 오케스트레이션
- 배포
  - 스프레드
  - 빈 패킹
  - 랜덤
- 확장성
- 실행 상태 관리(health check)
- 인프라스트럭처 추상화
- 자원 최적화
- 자원 할당
- 서비스 가용성
- 애자일성
- 격리

### 6. 컨테이너 오케스트레이션 솔루션

- 도커 수웜
- 쿠버네티스
- 메소스 + 마라톤
- 해시코프의 노매드
- 코어OS 플릿






